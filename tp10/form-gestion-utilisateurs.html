<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire gestion utilisateur</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <script defer src="modale-view.js"></script>
    <script src="gestionUtilisateurs.js"></script>
</head>
<body>
    <!-- Page initiale -->
    <h1>Gestionnaire Utilisateurs</h1>
    <div>
        Que souhaitez vous faire ? : 
        <button id="btn-add" onclick="openModale('modale1')">Ajouter</button>
        <button id="btn-put" onclick="openModale('modale2')">Modifier</button>
    </div>
    <br><br>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Date de naissance</th>
                <th>Lieu de naissance</th>
                <th>Adresse</th>
                <th>Supprimer</th>
            </tr>
        </thead>
        <tbody id="corps">
        </tbody>
    </table>

    <!-- Composant modale créer -->
    <modale-view id="modale1" modale-width="20%">
        <div slot="title" header-color="#dc3545">Créer un utilisateur</div>
        <div slot="body">
            <form id="formUtilisateur">
                <input type="hidden" id="idCreateur" name="identiteCreateur">  <!-- ID caché pour la modification -->
                <input type="text" id="nom" name="nom" placeholder="Nom" required>
                <input type="text" id="prenom" name="prenom" placeholder="Prénom" required>
                <label for="genre"> Genre </label>
                    <select id="genre" name="genre">
                        <option value="m">M</option>
                        <option value="f">F</option>
                        <option value="a">Autre</option>
                    </select> <br><br>
                <input type="date" id="dateNaiss" name="dateNaissance" required>
                <input type="text" id="lieuNaiss" name="lieuNaissance" placeholder="Lieu de naissance" required>
                <input type="text" id="depNaiss" name="departementNaissance" placeholder="Département" required>
                <input type="number" id="numRue" name="numeroRue" placeholder="N° Rue" required>
                <input type="text" id="libRue" name="libelleRue" placeholder="Rue" required>
                <input type="number" id="cp" name="codePostal" placeholder="Code Postal" required>
                <input type="text" id="ville" name="ville" placeholder="Ville" required>
            </form>
        </div>
        <div slot="footer">
            <input type="button" value="Annuler" onclick="closeModale('modale1')">
            <input type="button" value="Valider" onclick="creerUtilisateur()">
        </div>
    </modale-view>
    <!-- Composant modale créer -->
    <modale-view id="modale2" modale-width="20%">
        <div slot="title" header-color="#dc3545">Modifier un utilisateur</div>
        <div slot="body"></div>
        <div slot="footer">
            <input type="button" value="Annuler" onclick="closeModale('modale2')">
            <input type="button" value="Valider" onclick="modifUtilisateur()">
        </div>
    </modale-view>
    <!-- Composant modale supprimer -->
    <modale-view id="modale3" modale-width="50%">
        <div slot="title" header-color="#dc3545">Supprimer un utilisateur</div>
        <div slot="body"></div>
        <p>Etes vous sûr de vouloir supprimer cet utilisateur?</p>
        <div slot="footer">
            <input type="button" value="Annuler" onclick="closeModale('modale3')">
            <input type="button" value="Valider" onclick="supprUtilisateur()">
        </div>
    </modale-view>
</body>
</html>